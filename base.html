<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>äº”ä¸Šè‹±è¯­æœŸæœ«å¤ä¹ å¤§é€šå…³ï¼šè¯æ±‡çŸ­è¯­å¥å‹</title>
    <style>
        :root { --primary: #4CAF50; --secondary: #2196F3; --warning: #ff9800; --danger: #f44336; --bg: #f4f7f9; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding-bottom: 60px; }
        .eye-care { background: #fffde7; color: #856404; width: 100%; text-align: center; padding: 8px 0; font-size: 0.75rem; border-bottom: 1px solid #ffeeba; font-weight: bold; position: sticky; top:0; z-index: 1001; }
        header { background: var(--primary); color: white; width: 100%; text-align: center; padding: 12px 0; font-weight: bold; position: sticky; top:33px; z-index: 1000; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .progress-box { width: 94%; background: #fff; padding: 12px; border-radius: 15px; margin: 10px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05); box-sizing: border-box; }
        .p-row { display: flex; align-items: center; gap: 8px; margin: 5px 0; font-size: 0.65rem; }
        .p-bar-bg { flex: 1; background: #eee; height: 6px; border-radius: 3px; overflow: hidden; }
        .p-fill { height: 100%; width: 0%; transition: width 0.5s; }
        #menu-screen { padding: 10px; width: 100%; max-width: 600px; box-sizing: border-box; }
        .module-selector { display: grid; grid-template-columns: repeat(2, 1fr); gap: 6px; margin-bottom: 12px; }
        .m-btn { background: #e2e8f0; text-align: center; padding: 10px; border-radius: 10px; cursor: pointer; font-size: 0.8rem; font-weight: bold; color: #475569; }
        .m-btn.active { background: var(--secondary); color: white; }
        .category-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .cat-btn { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 12px; cursor: pointer; display: flex; flex-direction: column; align-items: center; position: relative; }
        .cat-name { font-weight: bold; font-size: 0.85rem; color: #1e293b; margin-bottom: 2px;}
        .cat-info { font-size: 0.6rem; color: #94a3b8; }
        .badge { position: absolute; top: -5px; right: -5px; background: var(--danger); color: white; border-radius: 10px; padding: 1px 5px; font-size: 0.6rem; }
        #game-screen { display: none; width: 100%; flex-direction: column; align-items: center; }
        .info-bar { background: white; width: 100%; padding: 8px; display: flex; justify-content: space-around; font-size: 0.8rem; border-bottom: 1px solid #e2e8f0; width:100%; position:sticky; top:45px; z-index:900; }
        .board-zone { width: 100%; max-width: 800px; padding: 5px; box-sizing: border-box; }
        .zone-label { font-size: 0.65rem; color: #94a3b8; margin: 4px 10px; font-weight: bold; border-left: 3px solid var(--secondary); padding-left: 6px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; padding: 5px; }
        .grid.mid { grid-template-columns: repeat(2, 1fr); }
        .grid.wide { grid-template-columns: 1fr; }
        .card { background: #fff; border: 2px solid #e2e8f0; border-radius: 8px; min-height: 55px; display: flex; justify-content: center; align-items: center; text-align: center; padding: 6px; cursor: pointer; font-weight: bold; font-size: 0.8rem; transition: 0.1s; user-select: none; position: relative; box-shadow: 0 1px 2px rgba(0,0,0,0.05); word-break: break-word; }
        .card.selected { border-color: var(--secondary); background: #eff6ff; color: var(--secondary); }
        .card.matched { visibility: hidden; opacity: 0; pointer-events: none; }
        .card.error { border-color: var(--danger); background: #fff5f5; animation: shake 0.3s; }
        @keyframes shake { 0%,100%{transform:translateX(0);} 25%{transform:translateX(-3px);} 75%{transform:translateX(3px);} }
        .m-dots { position: absolute; bottom: 2px; right: 2px; display: flex; gap: 1px; }
        .dot { width: 3px; height: 3px; border-radius: 50%; background: #ddd; }
        .dot.active { background: var(--primary); }
        #modal, #health-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); text-align: center; z-index: 3000; width: 85%; max-width: 320px; }
        .btn-ui { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 25px; cursor: pointer; margin-top: 8px; width: 100%; font-size: 0.9rem; font-weight: bold; }
    </style>
</head>
<body>
<div class="eye-care">ğŸ‘€ æŠ¤çœ¼æé†’ï¼šåå§¿æŒºç›´ï¼Œè·ç¦»å±å¹•ä¸€å°ºè¿œï¼Œä¿æŠ¤è§†åŠ›ï¼</div>
<header>5Aè‹±è¯­ï¼šè¯æ±‡å¥å‹å…¨æŒæ¡</header>
<div id="menu-screen">
    <div class="progress-box">
        <div class="p-row"><span>ä¸­è‹±å•è¯:</span><div class="p-bar-bg"><div id="bar-word-ch" class="p-fill" style="background:#4CAF50"></div></div><b id="txt-word-ch">0/167</b></div>
        <div class="p-row"><span>è‹±è‹±é‡Šä¹‰:</span><div class="p-bar-bg"><div id="bar-word-en" class="p-fill" style="background:#2196F3"></div></div><b id="txt-word-en">0/167</b></div>
        <div class="p-row"><span>é‡ç‚¹çŸ­è¯­:</span><div class="p-bar-bg"><div id="bar-phrase" class="p-fill" style="background:#ff9800"></div></div><b id="txt-phrase">0/0</b></div>
        <div class="p-row"><span>æ ¸å¿ƒå¥å‹:</span><div class="p-bar-bg"><div id="bar-sentence" class="p-fill" style="background:#9c27b0"></div></div><b id="txt-sentence">0/0</b></div>
    </div>
    <div class="module-selector">
        <div id="m-word-ch" class="m-btn active" onclick="setMod('word-ch')">ä¸­è‹±å•è¯</div>
        <div id="m-word-en" class="m-btn" onclick="setMod('word-en')">è‹±è‹±è§£é‡Š</div>
        <div id="m-phrase" class="m-btn" onclick="setMod('phrase')">çŸ­è¯­é…å¯¹</div>
        <div id="m-sentence" class="m-btn" onclick="setMod('sentence')">å¥å‹æŒ‘æˆ˜</div>
    </div>
    <div class="category-grid" id="category-btns"></div>
</div>
<div id="game-screen">
    <div class="info-bar"><span><b id="cur-cat-name"></b></span><span>â±ï¸ <b id="timer-val">0</b>s</span></div>
    <div class="board-zone"><div class="zone-label">ENGLISH è‹±æ–‡ (ç‚¹å‡»å‘éŸ³)</div><div id="board-top" class="grid"></div></div>
    <div class="board-zone"><div class="zone-label">MEANING å«ä¹‰è§£æ</div><div id="board-bottom" class="grid"></div></div>
    <button class="btn-ui" style="background:#94a3b8; width:90%; margin:20px 5%;" onclick="showMenu()">è¿”å›ç›®å½•</button>
</div>
<div id="modal">
    <h3>ğŸŠ æŒ‘æˆ˜æˆåŠŸï¼</h3>
    <div id="report-html" style="text-align:left; background:#f8fafc; padding:12px; border-radius:12px; margin:15px 0; font-size:0.8rem;"></div>
    <button class="btn-ui" onclick="initLevel()">æ¢ä¸€ç»„ç»§ç»­</button>
    <button class="btn-ui" style="background:#94a3b8" onclick="showMenu()">è¿”å›ä¸»ç›®å½•</button>
</div>
<div id="health-modal"><h3 style="color:var(--warning);">ğŸ‘€ è§†åŠ›ä¿æŠ¤æé†’</h3><div id="health-content" style="font-size:0.85rem; margin:15px 0;"></div><button class="btn-ui" onclick="closeH()">å·²è¿œçœºä¼‘æ¯</button></div>

<script>
// --- æ­¤å¤„å¾…ç²˜è´´ B éƒ¨åˆ†é€»è¾‘ä¸åºå¤§æ•°æ®é›† ---// --- å®Œæ•´æ•°æ®åŠ è½½ ---
const rawData = [["ice cream","å†°æ¿€å‡Œ","A cold and sweet food.","é¥®é£Ÿ"],["rice","ç±³é¥­","People eat it every day in China.","é¥®é£Ÿ"],["dumpling","é¥ºå­","A traditional(ä¼ ç»Ÿçš„) Chinese food.","é¥®é£Ÿ"],["noodle","é¢æ¡","Long and thin food.","é¥®é£Ÿ"],["bread","é¢åŒ…","Use it to make a sandwich.","é¥®é£Ÿ"],["sandwich","ä¸‰æ˜æ²»","Bread with meat inside.","é¥®é£Ÿ"],["hamburger","æ±‰å ¡åŒ…","Round bread with beef(ç‰›è‚‰).","é¥®é£Ÿ"],["chips","ç‚¸è–¯æ¡","Fried(æ²¹ç‚¸çš„) potatoes.","é¥®é£Ÿ"],["starter","ç¬¬ä¸€é“èœ","The first dish(èœè‚´) in a meal.","é¥®é£Ÿ"],["tomato","è¥¿çº¢æŸ¿","A red and round vegetable.","é¥®é£Ÿ"],["egg","é¸¡è›‹","It comes from a hen(æ¯é¸¡).","é¥®é£Ÿ"],["soup","æ±¤","Hot water with meat or vegetables.","é¥®é£Ÿ"],["main course","ä¸»èœ","The most important food in a meal.","é¥®é£Ÿ"],["meat","è‚‰","Food from animals.","é¥®é£Ÿ"],["vegetable","è”¬èœ","Healthy food like carrot.","é¥®é£Ÿ"],["potato","é©¬é“ƒè–¯","A vegetable used to make chips.","é¥®é£Ÿ"],["dessert","ç”œå“","Sweet food after a meal.","é¥®é£Ÿ"],["chocolate","å·§å…‹åŠ›","A sweet and brown food.","é¥®é£Ÿ"],["dimsum","ç‚¹å¿ƒ","Traditional(ä¼ ç»Ÿçš„) food in GZ.","é¥®é£Ÿ"],["pancake","è–„é¥¼","A flat(å¹³çš„) and round cake.","é¥®é£Ÿ"],["bun","é¦’å¤´/å°åœ†é¢åŒ…","Small and round bread.","é¥®é£Ÿ"],["salad","è‰²æ‹‰","Mixed(æ··åˆçš„) vegetables or fruit.","é¥®é£Ÿ"],["steak","ç‰›æ’","A big piece of beef(ç‰›è‚‰).","é¥®é£Ÿ"],["coffee","å’–å•¡","A brown and bitter(è‹¦çš„) drink.","é¥®å…·"],["tea","èŒ¶","A healthy drink made with leaves(å¶å­).","é¥®å…·"],["milk","ç‰›å¥¶","A white drink from cows(å¥¶ç‰›).","é¥®å…·"],["coke","å¯ä¹","A sweet and black drink.","é¥®å…·"],["juice","æœæ±","A drink from fruit.","é¥®å…·"],["drink","é¥®æ–™","Something you can drink.","é¥®å…·"],["cup","æ¯å­","You use it to drink tea.","é¥®å…·"],["bottle","ç“¶å­","Put water or juice in it.","é¥®å…·"],["glass","ç»ç’ƒæ¯","A cup made of glass.","é¥®å…·"],["can","ç½å­","A metal(é‡‘å±) box for drinks.","é¥®å…·"],["chopstick","ç­·å­","Sticks for eating Chinese food.","é¥®å…·"],["bowl","ç¢—","You put soup or rice in it.","é¥®å…·"],["plate","ç›˜å­","You put food on this flat thing.","é¥®å…·"],["knife","åˆ€","Use it to cut(åˆ‡) things.","é¥®å…·"],["fork","å‰å­","Use it to pick up(å‰èµ·) food.","é¥®å…·"],["weekday","å·¥ä½œæ—¥","Monday to Friday.","æ—¶ç©º"],["weekend","å‘¨æœ«","Saturday and Sunday.","æ—¶ç©º"],["some day","æŸå¤©","One day in the future.","æ—¶ç©º"],["season","å­£èŠ‚","Spring, summer, autumn or winter.","æ—¶ç©º"],["lunchtime","åˆé¤æ—¶","The time to eat lunch.","æ—¶ç©º"],["p.m.","ä¸‹åˆ","After 12:00 in the daytime.","æ—¶ç©º"],["life","ç”Ÿæ´»","The way a person lives.","æ—¶ç©º"],["country","å›½å®¶","Like China or England.","æ—¶ç©º"],["place","åœ°æ–¹","Where someone is.","æ—¶ç©º"],["market","å¸‚åœº","A place to buy food.","æ—¶ç©º"],["palace","å®«æ®¿","House for a king or queen.","æ—¶ç©º"],["Childrenâ€™s Palace","å°‘å¹´å®«","Place for kids to learn.","æ—¶ç©º"],["cinema","ç”µå½±é™¢","A place to watch films.","æ—¶ç©º"],["England","è‹±å›½","A country in Europe(æ¬§æ´²).","æ—¶ç©º"],["sky","å¤©ç©º","It is above(åœ¨...ä¸Šæ–¹) the earth.","è‡ªç„¶"],["animal","åŠ¨ç‰©","A living thing like a dog.","è‡ªç„¶"],["weather","å¤©æ°”","Like sun, rain or wind.","è‡ªç„¶"],["cloud","äº‘","A white thing in the sky.","è‡ªç„¶"],["cloudy","å¤šäº‘","When there are many clouds.","è‡ªç„¶"],["rain","é›¨","Water from the sky.","è‡ªç„¶"],["rainy","ä¸‹é›¨","When it rains a lot.","è‡ªç„¶"],["wet","æ¹¿çš„","Not dry.","è‡ªç„¶"],["dry","å¹²çš„","Not wet.","è‡ªç„¶"],["sun","å¤ªé˜³","It gives us light and heat.","è‡ªç„¶"],["sunny","æ™´æœ—","When the sun is shining.","è‡ªç„¶"],["warm","æ¸©æš–","A nice hot feeling.","è‡ªç„¶"],["cool","å‡‰çˆ½","A nice cold feeling.","è‡ªç„¶"],["snow","é›ª","White and cold in winter.","è‡ªç„¶"],["snowy","é›ªå¤©","When it snows.","è‡ªç„¶"],["snowman","é›ªäºº","A man made of snow.","è‡ªç„¶"],["temperature","æ¸©åº¦","How hot or cold it is.","è‡ªç„¶"],["degree","åº¦","A unit for temperature.","è‡ªç„¶"],["wind","é£","Moving air.","è‡ªç„¶"],["windy","æœ‰é£","When the wind blows.","è‡ªç„¶"],["hobby","çˆ±å¥½","What you do for fun.","æè¿°"],["model","æ¨¡å‹","A small copy of a big thing.","æè¿°"],["collect","æ”¶é›†","To find and keep things.","æè¿°"],["stamp","é‚®ç¥¨","Small paper for a letter.","æè¿°"],["drawing","ç”»","A picture made with a pen.","æè¿°"],["ability","èƒ½åŠ›","Something you can do.","æè¿°"],["coloured","å½©è‰²çš„","Having many colours.","æè¿°"],["different","ä¸åŒ","Not the same.","æè¿°"],["fresh","æ–°é²œ","New and clean.","æè¿°"],["healthy","å¥åº·","Good for your body.","æè¿°"],["hungry","é¥¿çš„","You want to eat food.","æè¿°"],["delicious","ç¾å‘³","Food that tastes very good.","æè¿°"],["terrible","ç³Ÿç³•","Very bad.","æè¿°"],["true","çœŸå®","Not false.","æè¿°"],["umbrella","é›¨ä¼","Keep you dry in the rain.","æè¿°"],["talk","è°ˆè¯","To speak to someone.","åŠ¨ä½œ"],["speak","è®²è¯","To say words.","åŠ¨ä½œ"],["say","è¯´","To speak something.","åŠ¨ä½œ"],["ask","é—®","To want to know.","åŠ¨ä½œ"],["smell","é—»","To use your nose.","åŠ¨ä½œ"],["taste","å°","To use your mouth.","åŠ¨ä½œ"],["keep","ä¿æŒ","To have for a long time.","åŠ¨ä½œ"],["count","æ•°æ•°","To say 1, 2, 3...","åŠ¨ä½œ"],["find","æ‰¾åˆ°","To get after looking.","åŠ¨ä½œ"],["look for","å¯»æ‰¾","To try to find.","åŠ¨ä½œ"],["wake up","é†’æ¥","To stop sleeping.","åŠ¨ä½œ"],["stay","åœç•™","Not to go away.","åŠ¨ä½œ"],["wait","ç­‰å¾…","Stay until it happens.","åŠ¨ä½œ"],["put on","ç©¿ä¸Š","To wear clothes.","åŠ¨ä½œ"],["change","æ”¹å˜","To make different.","åŠ¨ä½œ"],["turn","è½¬","To move in a circle.","åŠ¨ä½œ"],["shine","ç…§è€€","To give off light.","åŠ¨ä½œ"],["walk","èµ°è·¯","To move on your feet.","åŠ¨ä½œ"],["said","è¯´(è¿‡)","Past of 'say'.","è¿‡å»"],["went","å»(è¿‡)","Past of 'go'.","è¿‡å»"],["had","æœ‰(è¿‡)","Past of 'have'.","è¿‡å»"],["thought","æƒ³(è¿‡)","Past of 'think'.","è¿‡å»"],["more than","å¤šäº","Over a number.","è¯ç»„"],["plenty of","å¤§é‡","A lot of.","è¯ç»„"],["for example","ä¾‹å¦‚","Show one of many things.","è¯ç»„"],["a cup of","ä¸€æ¯","Tea in a cup.","è¯ç»„"],["a bottle of","ä¸€ç“¶","Juice in a bottle.","è¯ç»„"],["seldom","æå°‘","Not often.","è¯ç»„"],["often","ç»å¸¸","Many times.","è¯ç»„"],["usually","é€šå¸¸","In most times.","è¯ç»„"],["quite","ç›¸å½“","Very or really.","è¯ç»„"],["maybe","å¯èƒ½","Perhaps.","è¯ç»„"],["together","ä¸€èµ·","With each other.","è¯ç»„"],["have fun","å¨±ä¹","Be happy and play.","è¯ç»„"],["than","æ¯”","Used to compare things.","å…¶ä»–"],["more","æ›´å¤š","A larger number.","å…¶ä»–"],["every","æ¯","Each one.","å…¶ä»–"],["during","æœŸé—´","From start to end.","å…¶ä»–"],["Mrs","å¤ªå¤ª","A married woman.","å…¶ä»–"],["son","å„¿å­","A boy child.","å…¶ä»–"],["everyone","æ‰€æœ‰äºº","All the people.","å…¶ä»–"],["something","æŸç‰©","A thing.","å…¶ä»–"],["yours","ä½ çš„","Belonging to you.","å…¶ä»–"],["example","ä¾‹å­","Shows a rule.","å…¶ä»–"],["report","æŠ¥å‘Š","Tell about something.","å…¶ä»–"],["both","ä¸¤è€…éƒ½","Two things together.","å…¶ä»–"],["should","åº”è¯¥","Good to do.","å…¶ä»–"],["shouldn't","ä¸åº”è¯¥","Not good to do.","å…¶ä»–"],["hope","å¸Œæœ›","Want something to happen.","å…¶ä»–"],["need","éœ€è¦","Must have it.","å…¶ä»–"],["come on","æ¥å§","Hurry up.","å…¶ä»–"],["first","ç¬¬ä¸€","Number one.","å…¶ä»–"],["sweet","ç”œ","Sugar tastes like this.","å…¶ä»–"],["salty","å’¸","Salt tastes like this.","å…¶ä»–"],["sour","é…¸","Lemon tastes like this.","å…¶ä»–"],["western","è¥¿æ–¹","From UK or USA.","å…¶ä»–"],["most","å¤šæ•°","Nearly all.","å…¶ä»–"],["also","ä¹Ÿ","Too.","å…¶ä»–"],["again","å†","One more time.","å…¶ä»–"],["warm","æ¸©æš–","Nice, hot feeling.","å…¶ä»–"],["cool","å‡‰çˆ½","Nice, cold feeling.","å…¶ä»–"],["cold","å†·","Like ice or winter.","å…¶ä»–"],["hot","çƒ­","Like fire or summer.","å…¶ä»–"],["busy","å¿™","A lot of work.","å…¶ä»–"],["far","è¿œ","Not near.","å…¶ä»–"],["sure","ç¡®ä¿¡","100% true.","å…¶ä»–"],["dear","äº²çˆ±","Someone you love.","å…¶ä»–"],["early","æ—©","Before usual time.","å…¶ä»–"],["quickly","è¿…é€Ÿ","Very fast.","å…¶ä»–"],["away","ç¦»å¼€","To a different place.","å…¶ä»–"],["outside","å¤–é¢","Not inside.","å…¶ä»–"],["hard","åŠªåŠ›/çŒ›çƒˆ","With a lot of power.","å…¶ä»–"],["before","ä¹‹å‰","Earlier than.","å…¶ä»–"],["start","å¼€å§‹","To begin.","å…¶ä»–"],["finish","å®Œæˆ","To end.","å…¶ä»–"],["talking","ä¼šè¯´","Able to speak.","å…¶ä»–"],["uh","å””","Sound when thinking.","å…¶ä»–"]];

const phraseData = [
["make model ships","åšè½®èˆ¹æ¨¡å‹","","M1"],["love making","å–œæ¬¢åˆ¶ä½œ","","M1"],["more than 20 ships","è¶…è¿‡ 20 è‰˜è½®èˆ¹","","M1"],["collect stamps","é›†é‚®","","M1"],["keep pets","å…»å® ç‰©","","M1"],["three birds","ä¸‰åªé¸Ÿ","","M1"],["play music","ç©éŸ³ä¹","","M1"],["every day","æ¯å¤©","","M1"],["read books","è¯»ä¹¦","","M1"],["every night","æ¯å¤©æ™šä¸Š","","M1"],["play computer games","ç©ç”µè„‘æ¸¸æˆ","","M1"],["take photos","ç…§ç›¸","","M1"],["during my holiday","åœ¨æˆ‘çš„å‡æœŸé‡Œ","","M1"],["a great painter","ä¸€ä¸ªä¼Ÿå¤§çš„ç”»å®¶","","M1"],["draw cartoons","ç”»æ¼«ç”»","","M1"],["coloured pencils","å½©è‰²é“…ç¬”","","M1"],["his pet dog","ä»–çš„å® ç‰©ç‹—","","M1"],["birthday cards","ç”Ÿæ—¥å¡ç‰‡","","M1"],["on their birthday","åœ¨ä»–ä»¬çš„ç”Ÿæ—¥","","M1"],["in the sky","åœ¨å¤©ç©ºä¸­","","M1"],["interesting people","æœ‰è¶£çš„äººç‰©","","M1"],["beautiful places","ç¾ä¸½çš„é£æ™¯","","M1"],["in every room","åœ¨æ¯ä¸ªæˆ¿é—´","","M1"],["in her house","åœ¨å¥¹çš„æˆ¿å­é‡Œ","","M1"],["be good at drawing","æ“…é•¿ç”»ç”»","","M2"],["draws very well","ç”»å¾—å¾ˆå¥½","","M2"],["read fast","è¯»å¾—å¿«","","M2"],["jump high","è·³å¾—é«˜","","M2"],["jump far","è·³å¾—è¿œ","","M2"],["run fast","è·‘å¾—å¿«","","M2"],["sing well","å”±å¾—å¥½","","M2"],["dance well","è·³èˆè·³å¾—å¥½","","M2"],["happy birthday","ç”Ÿæ—¥å¿«ä¹","","M2"],["be here to help you","åœ¨è¿™é‡Œå¸®åŠ©ä½ ","","M2"],["talking robot","ä¼šè¯´è¯çš„æœºå™¨äºº","","M2"],["speak English","è¯´è‹±è¯­","","M2"],["be good at many things","æ“…é•¿å¾ˆå¤šä¸œè¥¿","","M2"],["clean very well","æ‰“æ‰«å¾—å¾ˆå¹²å‡€","","M2"],["write Chinese and English","å†™æ±‰å­—å’Œè‹±æ–‡","","M2"],["wants to talk with him","æƒ³å’Œä»–è°ˆè¯","","M3"],["at the swimming pool","åœ¨æ¸¸æ³³æ± é‡Œ","","M3"],["find him","æ‰¾åˆ°ä»–","","M3"],["go swimming","å»æ¸¸æ³³","","M3"],["on weekdays","åœ¨å·¥ä½œæ—¥","","M3"],["at the library","åœ¨å›¾ä¹¦é¦†","","M3"],["in the music room","åœ¨éŸ³ä¹å®¤","","M3"],["look for him","å¯»æ‰¾ä»–","","M3"],["in the gym","åœ¨ä½“è‚²é¦†","","M3"],["take exercise","å‚åŠ é”»ç‚¼","","M3"],["in the classroom","åœ¨æ•™å®¤é‡Œ","","M3"],["do one's homework","åšå®¶åº­ä½œä¸š","","M3"],["eat ice cream","åƒå†°æ·‡æ·‹","","M3"],["at the school shop","åœ¨å­¦æ ¡å•†åº—é‡Œ","","M3"],["at the weekend","åœ¨å‘¨æœ«","","M3"],["wake up","é†’æ¥","","M3"],["have a big breakfast","åƒä¸€é¡¿ä¸°ç››çš„æ—©é¤","","M3"],["on Saturday","åœ¨å‘¨å…­","","M3"],["have a swimming lesson","ä¸Šä¸€å ‚æ¸¸æ³³è¯¾","","M3"],["go out for lunch","å‡ºå»åƒåˆé¥­","","M3"],["have some fun","å¨±ä¹","","M3"],["go to the cinema","å»çœ‹ç”µå½±","","M3"],["stay at home","å‘†åœ¨å®¶é‡Œ","","M3"],["drink...for lunch","åˆé¤å–...","","M4"],["tea with milk","å¥¶èŒ¶","","M4"],["a bottle of juice","ä¸€ç“¶æœæ±","","M4"],["a glass of water","ä¸€æ¯æ°´","","M4"],["a box of milk","ä¸€ç›’ç‰›å¥¶","","M4"],["a cup of tea","ä¸€æ¯èŒ¶","","M4"],["a can of coke","ä¸€ç½å¯ä¹","","M4"],["tomato and egg soup","è¥¿çº¢æŸ¿é¸¡è›‹æ±¤","","M4"],["have...for dinner","æ™šé¤åƒ...","","M4"],["like to eat rice","å–œæ¬¢åƒç±³é¥­","","M4"],["eat soup","å–æ±¤","","M4"],["worry too much","å¤ªæ“å¿ƒ","","M4"],["for starters","ä½œä¸ºå¤´ç›˜","","M4"],["start cooking","å¼€å§‹ç…®é¥­","","M4"],["time for lunch","åƒåˆé¤æ—¶é—´","","M5"],["try the chicken first","å…ˆå°å°é¸¡è‚‰","","M5"],["think of","è§‰å¾—/è®¤ä¸º","","M5"],["so many things to try","å¤ªå¤šå°è¯•çš„ä¸œè¥¿","","M5"],["look fresh","çœ‹èµ·æ¥å¾ˆæ–°é²œ","","M5"],["very sweet","å¾ˆç”œ","","M5"],["look quite good","çœ‹èµ·æ¥å¾ˆå¥½","","M5"],["smell delicious","é—»èµ·æ¥å¾ˆé¦™","","M5"],["tastes good","å‘³é“å¾ˆå¥½","","M5"],["different tastes","ä¸åŒå£å‘³","","M5"],["very different","å¾ˆä¸åŒ","","M5"],["in the West","åœ¨è¥¿æ–¹","","M5"],["on a plate","åœ¨ç¢Ÿå­ä¸Š","","M5"],["with a knife and fork","ç”¨åˆ€å’Œå‰","","M5"],["in Beijing","åœ¨åŒ—äº¬","","M5"],["salty food","å’¸çš„é£Ÿç‰©","","M5"],["hot food","è¾£çš„é£Ÿç‰©","","M5"],["so cloudy","å¤ªå¤šäº‘","","M6"],["in April","åœ¨å››æœˆ","","M6"],["in England","åœ¨è‹±å›½","","M6"],["play outdoors","åœ¨æˆ·å¤–ç©è€","","M6"],["visit England","æ¸¸è§ˆè‹±å›½","","M6"],["wear T-shirts","ç©¿Tæ¤è¡«","","M6"],["hot and dry","åˆçƒ­åˆå¹²ç‡¥","","M6"],["eat lots of fruit","åƒå¾ˆå¤šæ°´æœ","","M6"],["fly kites","æ”¾é£ç­","","M6"],["make a snowman","å †é›ªäºº","","M6"],["my first day","æˆ‘çš„ç¬¬ä¸€å¤©","","M6"],["something interesting","ä¸€äº›æœ‰è¶£çš„äº‹æƒ…","","M6"],["lots of clothes","å¾ˆå¤šè¡£æœ","","M6"],["start to shine","å¼€å§‹ç…§è€€","","M6"],["at lunchtime","åœ¨åˆé¤æ—¶é—´","","M6"],["rain hard","ä¸‹å¤§é›¨","","M6"],["in one day","åœ¨æŸä¸€å¤©","","M6"]
];

const sentData = [
["What are you doing, Jiamin?","Jiamin, ä½ åœ¨åšä»€ä¹ˆï¼Ÿ","","å¥å‹"],["I'm making a model plane.","æˆ‘æ­£åœ¨åšé£æœºæ¨¡å‹ã€‚","","å¥å‹"],["I love making models.","æˆ‘å–œæ¬¢åšæ¨¡å‹ã€‚","","å¥å‹"],["What's your hobby, Xiaoling?","ä½ çš„çˆ±å¥½æ˜¯ä»€ä¹ˆï¼ŒXiaolingï¼Ÿ","","å¥å‹"],["My hobby is keeping pets.","æˆ‘çš„çˆ±å¥½æ˜¯å…»å® ç‰©ã€‚","","å¥å‹"],["His hobby is drawing cartoons.","ä»–çš„çˆ±å¥½æ˜¯ç”»æ¼«ç”»ã€‚","","å¥å‹"],["Sometimes he draws his pet dog.","æœ‰æ—¶å€™ä»–ç”»ä»–çš„å® ç‰©ç‹—ã€‚","","å¥å‹"],["She likes drawing interesting people.","å¥¹å–œæ¬¢ç”»æœ‰è¶£çš„äººç‰©ã€‚","","å¥å‹"],["She draws very well, too.","å¥¹ä¹Ÿç”»å¾—å¾ˆå¥½ã€‚","","å¥å‹"],["I love swimming, too.","æˆ‘ä¹Ÿå–œæ¬¢æ¸¸æ³³ã€‚","","å¥å‹"],["Happy birthday to you!","ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼","","å¥å‹"],["What can you do?","ä½ ä¼šåšä»€ä¹ˆï¼Ÿ","","å¥å‹"],["I can do many things.","æˆ‘ä¼šåšå¾ˆå¤šäº‹æƒ…ã€‚","","å¥å‹"],["Can you clean the room?","ä½ ä¼šæ‰“æ‰«æˆ¿é—´å—ï¼Ÿ","","å¥å‹"],["Can you do my homework?","ä½ ä¼šåšæˆ‘çš„å®¶åº­ä½œä¸šå—ï¼Ÿ","","å¥å‹"],["Of course I can.","æˆ‘å½“ç„¶ä¼šã€‚","","å¥å‹"],["Where is Ben?","Ben åœ¨å“ªé‡Œï¼Ÿ","","å¥å‹"],["He is at the swimming pool.","ä»–åœ¨æ¸¸æ³³æ± é‡Œã€‚","","å¥å‹"],["He never goes swimming on weekdays.","ä»–ä»ä¸åœ¨å·¥ä½œæ—¥å»æ¸¸æ³³ã€‚","","å¥å‹"],["Does Ben often go swimming?","Ben ç»å¸¸å»æ¸¸æ³³å—ï¼Ÿ","","å¥å‹"],["Let me go and look for him there.","æˆ‘å»é‚£é‡Œæ‰¾æ‰¾ä»–å§ã€‚","","å¥å‹"],["The Chen family is always busy.","é™ˆå®¶äººåœ¨å‘¨æœ«æ€»æ˜¯å¾ˆå¿™ã€‚","","å¥å‹"],["Mrs Chen goes to the market.","é™ˆå¤ªå¤ªé€šå¸¸å’Œé™ˆå…ˆç”Ÿå»å¸‚åœºã€‚","","å¥å‹"],["Their son goes to the Palace.","ä»–ä»¬çš„å„¿å­å‘¨å…­å»å°‘å¹´å®«ã€‚","","å¥å‹"],["What do you want to drink?","åˆé¤ä½ æƒ³å–ä»€ä¹ˆï¼Ÿ","","å¥å‹"],["I want a cup of tea.","æˆ‘æƒ³æˆ‘è¦å–ä¸€æ¯å¥¶èŒ¶ã€‚","","å¥å‹"],["Do you want coffee or tea?","ä½ è¦å’–å•¡è¿˜æ˜¯èŒ¶ï¼Ÿ","","å¥å‹"],["Can I have a large coke?","è¯·é—®ï¼Œæˆ‘èƒ½å–å¤§æ¯å¯ä¹å—ï¼Ÿ","","å¥å‹"],["Here you are. Thanks a lot.","ç»™ä½ ã€‚å¤šè°¢äº†ã€‚","","å¥å‹"],["What should we have for dinner?","æ™šé¤æˆ‘ä»¬è¦åƒä»€ä¹ˆï¼Ÿ","","å¥å‹"],["We should have rice and fish.","æˆ‘ä»¬åƒç±³é¥­å’Œé±¼ã€‚","","å¥å‹"],["Let's start cooking. OK.","æˆ‘ä»¬å¼€å§‹åšé¥­å§ã€‚å¥½å§ã€‚","","å¥å‹"],["What do you think of the fish?","ä½ è§‰å¾—é±¼çš„å‘³é“æ€ä¹ˆæ ·ï¼Ÿ","","å¥å‹"],["Chinese people like rice.","ä¸­å›½äººå–œæ¬¢åƒç±³é¥­æˆ–é¢æ¡ã€‚","","å¥å‹"],["Western people eat bread.","è¥¿æ–¹äººåƒé¢åŒ…ã€‚","","å¥å‹"],["People eat on a plate.","äººä»¬é€šå¸¸ç”¨åˆ€å‰åœ¨ç¢Ÿå­é‡Œåƒé¥­ã€‚","","å¥å‹"],["People enjoy sweet and sour food.","æ¥è‡ªå¹¿å·çš„äººæœ€å–œæ¬¢ç”œé…¸å‘³ã€‚","","å¥å‹"],["What's the weather like today?","ä»Šå¤©çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ","","å¥å‹"],["How is the weather on October?","åæœˆçš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ","","å¥å‹"],["I hope I can visit England.","æˆ‘å¸Œæœ›æŸä¸€å¤©èƒ½æ¸¸è§ˆè‹±å›½ã€‚","","å¥å‹"],["The report said it was 15C.","å¤©æ°”é¢„æŠ¥è¯´æ°”æ¸©åªæœ‰15åº¦ã€‚","","å¥å‹"],["I put on my coat and walked.","æˆ‘ç©¿ä¸Šå¤§è¡£ï¼Œèµ°è·¯å›å®¶å»äº†ã€‚","","å¥å‹"]
];

let curMod = 'word-ch', stats = JSON.parse(localStorage.getItem('5A_V21_VOC')) || {'word-ch':{},'word-en':{},'phrase':{},'sentence':{}};
let sessS = Date.now(), cumul = parseInt(localStorage.getItem('5A_C_T')) || 0;
let first=null, second=null, lock=false, done=0, timer=0, clock=null, curCat="", tC=0, rC=0;

const getDb = () => curMod.startsWith('word')?rawData:(curMod==='phrase'?phraseData:sentData);
const speak = (t) => { if(!window.speechSynthesis)return; window.speechSynthesis.cancel(); let m=new SpeechSynthesisUtterance(t); m.lang='en-US'; m.rate=0.8; window.speechSynthesis.speak(m); };

function setMod(m){ curMod=m; document.querySelectorAll('.m-btn').forEach(b=>b.classList.toggle('active',b.id==='m-'+m)); showMenu(); }

function showMenu(){
    document.getElementById('menu-screen').style.display='block'; document.getElementById('game-screen').style.display='none'; document.getElementById('modal').style.display='none';
    [['word-ch',rawData,'word-ch'],['word-en',rawData,'word-en'],['phrase',phraseData,'phrase'],['sentence',sentData,'sentence']].forEach(c=>{
        let mCount=c[1].filter(i=>stats[c[0]][i[0]]?.m).length;
        document.getElementById('bar-'+c[2]).style.width=(mCount/c[1].length*100)+'%';
        document.getElementById('txt-'+c[2]).innerText=mCount+'/'+c[1].length;
    });
    const grid=document.getElementById('category-btns'); grid.innerHTML='';
    const db=getDb(), cats=[...new Set(db.map(i=>i[3]))], s=stats[curMod];
    cats.forEach(c=>{
        let list=db.filter(i=>i[3]===c), m=list.filter(i=>s[i[0]]?.m).length;
        let btn=document.createElement('div'); btn.className='cat-btn';
        btn.innerHTML=`<span class="cat-name">${c}</span><span class="cat-info">${m}/${list.length} é€šå…³</span>`;
        btn.onclick=()=>{curCat=c; initLevel();}; grid.appendChild(btn);
    });
    let msk=Object.keys(s).filter(k=>!s[k].m && (s[k].e||[]).length>0);
    if(msk.length>0){
        let btn=document.createElement('div'); btn.className='cat-btn'; btn.style.borderColor='var(--warning)';
        btn.innerHTML=`<span class="cat-name" style="color:var(--warning)">é”™é¢˜ç‰¹è®­</span><span class="cat-info">${msk.length}è¯</span><div class="badge">${msk.length}</div>`;
        btn.onclick=()=>{curCat="é”™é¢˜"; initLevel();}; grid.appendChild(btn);
    }
}

function initLevel(){
    document.getElementById('menu-screen').style.display='none'; document.getElementById('game-screen').style.display='flex'; document.getElementById('modal').style.display='none';
    document.getElementById('cur-cat-name').innerText=curCat;
    const bT=document.getElementById('board-top'), bB=document.getElementById('board-bottom');
    bT.innerHTML=''; bB.innerHTML=''; clearInterval(clock); timer=0; done=0; tC=0; rC=0; clock=null;
    document.getElementById('timer-val').innerText='0';
    bT.className=bB.className=(curMod==='sentence'?'grid wide':(curMod==='phrase'?'grid mid':'grid'));
    const db=getDb(), s=stats[curMod];
    let pool=(curCat==='é”™é¢˜')?db.filter(i=>!s[i[0]]?.m && s[i[0]]?.e?.length>0):db.filter(i=>i[3]===curCat).sort((a,b)=>(s[a[0]]?.m?1:0)-(s[b[0]]?.m?1:0));
    let display=pool.slice(0, (curMod==='sentence'?4:6));
    let topD=display.map((p,i)=>({t:p[0],id:i,wk:p[0]})), botD=display.map((p,i)=>({t:(curMod==='word-en'?p[2]:p[1]),id:i,wk:p[0]}));
    topD.sort(()=>Math.random()-0.5); botD.sort(()=>Math.random()-0.5);
    topD.forEach(d=>{
        let div=document.createElement('div'); div.className='card'; div.innerText=d.t;
        let info=s[d.wk]; if(info && !info.m && info.e?.length>0){
            let dots='<div class="m-dots">'; for(let i=0;i<5;i++)dots+=`<div class="dot ${i<info.s?'active':''}"></div>`; div.innerHTML+=dots+'</div>';
        }
        div.onclick=()=>{speak(d.t); handle(div,d.id,d.wk,display.length);}; bT.appendChild(div);
    });
    botD.forEach(d=>{
        let div=document.createElement('div'); div.className='card'; div.innerText=d.t;
        div.onclick=()=>{handle(div,d.id,d.wk,display.length);}; bB.appendChild(div);
    });
}

function handle(div,id,wk,totalInRound){
    if(lock||div.classList.contains('matched')||div.classList.contains('selected'))return;
    if(!clock) clock=setInterval(()=>{timer++;document.getElementById('timer-val').innerText=timer;},1000);
    tC++; div.classList.add('selected');
    if(!first){first=div; first.mId=id; first.wk=wk; return;}
    second=div; lock=true;
    let s=stats[curMod];
    if(first.mId===id){
        rC+=2; if(!s[wk]) s[wk]={m:false,s:0,e:[]};
        if(s[wk].e.length===0){s[wk].m=true; s[wk].s=5;}
        else{s[wk].s++; if(s[wk].s>=5) s[wk].m=true;}
        setTimeout(()=>{
            first.classList.add('matched'); second.classList.add('matched');
            done++; if(done===totalInRound) finish();
            first=null; second=null; lock=false;
        },300);
    } else {
        [first.wk,wk].forEach(k=>{ if(!s[k])s[k]={m:false,s:0,e:[]}; s[k].m=false; s[k].s=0; s[k].e.push(Date.now());});
        first.classList.add('error'); second.classList.add('error');
        setTimeout(()=>{first.classList.remove('selected','error'); second.classList.remove('selected','error'); first=null; second=null; lock=false;},700);
    }
    localStorage.setItem('5A_V21_VOC', JSON.stringify(stats));
}

function finish(){
    clearInterval(clock); clock=null;
    document.getElementById('report-html').innerHTML=`ç”¨æ—¶: <b>${timer}s</b><br>å‡†ç¡®ç‡: <b>${Math.floor(rC/tC*100)}%</b>`;
    document.getElementById('modal').style.display='block';
}

setInterval(()=>{
    cumul++; localStorage.setItem('5A_C_T', cumul);
    let sM = Math.floor((Date.now()-sessS)/60000);
    if(sM>0 && sM%15===0) alertH("ä½ å·²ç»è¿ç»­å­¦ä¹ 15åˆ†é’Ÿäº†ï¼æŠ¬å¤´è¿œçœºè¿œå¤„æ”¾æ¾ä¸‹ã€‚");
    if(cumul>0 && cumul%60===0) alertH("ä»Šæ—¥ç´¯è®¡å­¦ä¹ å·²æ»¡60åˆ†é’Ÿã€‚è¯·å¼ºåˆ¶ä¼‘æ¯15åˆ†é’Ÿã€‚");
},60000);

function alertH(m){ document.getElementById('health-content').innerHTML=m; document.getElementById('health-modal').style.display='block';}
function closeH(){ document.getElementById('health-modal').style.display='none';}

showMenu();
</script>
</body><div style="text-align:center; margin: 20px 0;">
  <a href="index.html" style="text-decoration:none; background:#673ab7; color:#fff; padding:10px 20px; border-radius:12px; font-weight:bold; box-shadow:0 4px 10px rgba(0,0,0,0.1);">ğŸ  è¿”å›å¤§æœ¬è¥ä¸»é¡µ</a >
</div>
</html>